sap.ui.define(["aow/artifact/controller/BaseController","aow/artifact/model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/ui/model/Sorter"],function(t,e,n,i,o,r){"use strict";return t.extend("aow.artifact.controller.MainView",{formatter:e,onMenuButtonPress:function(){const t=this.getView().getModel("settings");const e=t.getProperty("/sidebarExpanded");t.setProperty("/sidebarExpanded",!e)},onToggleTheme:function(t){const e=t.getParameter("state");sap.ui.getCore().applyTheme(e?"sap_fiori_3":"sap_fiori_3_dark")},goToRepo:function(){window.open("https://github.com/SAP-samples/artifact-of-the-month/")},onNavPage:function(t){const e=this.getView().getModel("settings");const n=t.getParameter("item").getKey();if(n==="legal"){return window.open("https://www.sap.com/corporate/en/legal/impressum.html","_blank")}if(n==="privacy"){return window.open("https://www.sap.com/corporate/en/legal/privacy.html","_blank")}if(n==="terms"){return window.open("https://www.sap.com/corporate/en/legal/terms-of-use.html","_blank")}this.navTo(n);e.setProperty("/currentHash",n);e.setProperty("/filter","all")},displayItem:function(t){const e=this.byId("trend-list").getBinding("items");const o=this.getView().getModel("settings");let r=o.getProperty("/filter");if(r==="all"){e.filter([])}else{e.filter([new n("type",i.EQ,r)])}},liveSearch:function(t){const e=this.getView().getModel("settings");let o=e.getProperty("/search");if(!o){o=""}let r=e.getProperty("/filterSearch");if(r===undefined||r==="all"){r=""}const a=this.getView().byId("all-list");const s=a.getBinding("items");const l=new n({path:"name",operator:i.Contains,value1:o});const g=new n({path:"description",operator:i.Contains,value1:o});const c=new n({path:"type",operator:i.Contains,value1:r});const p=new n({filters:[l,g],and:false});s.filter(new n({filters:[p,c],and:true}))},openSettingsDialog:function(){var t=this.getView();if(!this._settingsDialog){this._settingsDialog=o.load({id:t.getId(),name:"aow.artifact.fragment.Dialog",controller:this}).then(function(e){t.addDependent(e);return e})}this._settingsDialog.then(function(t){t.open()})},handleConfirm:function(t){const e=this.getView().byId("all-list").getBinding("items");const n=new r({path:t.getParameter("sortItem").getKey(),descending:t.getParameter("sortDescending")});e.sort(n)}})});